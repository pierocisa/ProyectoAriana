<section class="categorias-panel">
  <h2>ğŸ·ï¸ GestiÃ³n de CategorÃ­as</h2>

  <div class="acciones-categorias">
    <input type="text" placeholder="ğŸ” Buscar categorÃ­a..." class="campo-busqueda" />
    <button class="btn-crear" (click)="abrirModal()">â• Crear CategorÃ­a</button>
  </div>

  <table class="tabla-categorias">
    <thead>
      <tr>
        <th>Nombre</th>
        <th>Imagen</th>
        <th>Estado</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let cat of categorias; let i = index">
        <td>{{ cat.nombre }}</td>
        <td>
          <img [src]="cat.imagen" alt="Imagen categorÃ­a" width="60" />
        </td>
        <td>{{ cat.estado === 'activa' ? 'âœ… Activa' : 'ğŸš« Inactiva' }}</td>
        <td>
          <button class="btn-editar" (click)="abrirModal(i)">âœï¸</button>
          <button *ngIf="cat.estado === 'activa'" class="btn-inhabilitar" (click)="inhabilitar(i)">ğŸš«</button>
          <button *ngIf="cat.estado === 'inactiva'" class="btn-activar" (click)="activar(i)">âœ…</button>
        </td>
      </tr>
    </tbody>
  </table>
</section>

<div class="modal-bg" *ngIf="modalActivo">
  <div class="modal">
    <h3>{{ editandoId  !== null ? 'âœï¸ Editar CategorÃ­a' : 'â• Nueva CategorÃ­a' }}</h3>

    <label>Nombre:</label>
    <input type="text" [(ngModel)]="nuevaCategoria.nombre" placeholder="Ej. Macetas" />

    <label>Imagen:</label>
    <input type="file" accept="image/*" (change)="cargarImagen($event)" />

    <div *ngIf="nuevaCategoria.imagen" class="imagen-preview">
      <img [src]="nuevaCategoria.imagen" alt="Vista previa" width="100" />
    </div>

    <div class="acciones-modal">
      <button class="btn-guardar" (click)="guardarCategoria()">ğŸ’¾ Guardar</button>
      <button class="btn-cancelar" (click)="cerrarModal()">âŒ Cancelar</button>
    </div>
  </div>
</div>


